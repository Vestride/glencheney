// IMPORTANT!
// If you're already using Modernizr, delete it from this file. If you don't know what Modernizr is, leave it :)

/* Modernizr 2.0.6 (Custom Build) | MIT & BSD
 * Build: http://www.modernizr.com/download/#-csstransforms-csstransforms3d-csstransitions-cssclasses-teststyles-testprop-testallprops-prefixes-domprefixes
 */
;window.Modernizr=function(a,b,c){function C(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=(a+" "+o.join(c+" ")+c).split(" ");return B(d,b)}function B(a,b){for(var d in a)if(k[a[d]]!==c)return b=="pfx"?a[d]:!0;return!1}function A(a,b){return!!~(""+a).indexOf(b)}function z(a,b){return typeof a===b}function y(a,b){return x(n.join(a+";")+(b||""))}function x(a){k.cssText=a}var d="2.0.6",e={},f=!0,g=b.documentElement,h=b.head||b.getElementsByTagName("head")[0],i="modernizr",j=b.createElement(i),k=j.style,l,m=Object.prototype.toString,n=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),o="Webkit Moz O ms Khtml".split(" "),p={},q={},r={},s=[],t=function(a,c,d,e){var f,h,j,k=b.createElement("div");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:i+(d+1),k.appendChild(j);f=["&shy;","<style>",a,"</style>"].join(""),k.id=i,k.innerHTML+=f,g.appendChild(k),h=c(k,a),k.parentNode.removeChild(k);return!!h},u,v={}.hasOwnProperty,w;!z(v,c)&&!z(v.call,c)?w=function(a,b){return v.call(a,b)}:w=function(a,b){return b in a&&z(a.constructor.prototype[b],c)};var D=function(a,c){var d=a.join(""),f=c.length;t(d,function(a,c){var d=b.styleSheets[b.styleSheets.length-1],g=d.cssRules&&d.cssRules[0]?d.cssRules[0].cssText:d.cssText||"",h=a.childNodes,i={};while(f--)i[h[f].id]=h[f];e.csstransforms3d=i.csstransforms3d.offsetLeft===9},f,c)}([,["@media (",n.join("transform-3d),("),i,")","{#csstransforms3d{left:9px;position:absolute}}"].join("")],[,"csstransforms3d"]);p.csstransforms=function(){return!!B(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},p.csstransforms3d=function(){var a=!!B(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);a&&"webkitPerspective"in g.style&&(a=e.csstransforms3d);return a},p.csstransitions=function(){return C("transitionProperty")};for(var E in p)w(p,E)&&(u=E.toLowerCase(),e[u]=p[E](),s.push((e[u]?"":"no-")+u));x(""),j=l=null,e._version=d,e._prefixes=n,e._domPrefixes=o,e.testProp=function(a){return B([a])},e.testAllProps=C,e.testStyles=t,g.className=g.className.replace(/\bno-js\b/,"")+(f?" js "+s.join(" "):"");return e}(this,this.document);

/**
 * Paginate by Glen Cheney
 * http://glencheney.com
 */
(function(a){var b="paginate",c={init:function(d){var e={itemWidth:230,margins:20,key:"all",prevClass:".paginate-prev",nextClass:".paginate-next",controls:".paginate-controls"};if(d){a.extend(e,d)}return this.each(function(){var d=a(this),f=d.children(),g=Math.floor(d.width()/e.itemWidth),h=2,i=f.first().outerHeight(),j;j={$items:f,itemsPerRow:g,numRows:h,itemHeight:i,itemWidth:e.itemWidth,margins:e.margins,prevClass:e.prevClass,nextClass:e.nextClass,controls:e.controls};d.data(b,j);if(!Modernizr.csstransforms||!Modernizr.csstransitions){c.setPrefixedCss(f,"transition","none")}c.clicks.call(this,e);c.paginate.call(this,"all")})},paginate:function(d){var e=a(this),f=e.data(b);if(!f){c.init.call(this);f=a(this).data(b)}if(!d)d="all";if(d=="all"){f.$items.removeClass("concealed stage-left stage-center stage-right")}else{f.$items.removeClass("concealed stage-left stage-center stage-right filtered").each(function(){var b=a(this).attr("data-key"),c=a.parseJSON(b);if(a.inArray(d,c)===-1){a(this).addClass("concealed");return}})}f.$items.not(".concealed").addClass("filtered");c.createControls.call(this,e.find(".filtered").length);c.shrink.call(this);c.filter.call(this);c.navigated.call(a(this),0)},clicks:function(b){var c=this;a(c).parent().find(b.nextClass).click(function(){a(c).paginate("next")});a(c).parent().find(b.prevClass).click(function(){a(c).paginate("prev")})},shrink:function(){var d=a(this).find(".concealed");if(d.length===0){return}d.each(function(){var d=a(this),e=parseInt(d.attr("data-x")),f=parseInt(d.attr("data-y")),g=d.parent().data(b);if(!e)e=0;if(!f)f=0;c.transition({$this:d,x:e,y:f,left:e+g.itemWidth/2+"px",top:f+g.itemHeight/2+"px",scale:.001,opacity:0,height:"0px",width:"0px"})})},filter:function(){a(this).find(".filtered").each(function(d){var e=a(this),f=e.parent().data(b),g=Math.floor(d/f.itemsPerRow),h=d%f.itemsPerRow*(f.itemWidth+f.margins),i=g%f.numRows*(f.itemHeight+f.margins),j=Math.floor(d/(f.itemsPerRow*f.numRows));e.attr({"data-x":h,"data-y":i,"data-page":j});if(j===0){e.addClass("stage-center")}else if(j>0){e.addClass("stage-right");h+=e.parent().width()}c.transition({$this:e,x:h,y:i,left:h+"px",top:i+"px",scale:1,opacity:1,height:f.itemHeight+"px",width:f.itemWidth+"px"})})},setPrefixedCss:function(a,b,c){a.css(Modernizr.testAllProps(b,"pfx"),c)},transition:function(a){var b;if(Modernizr.csstransforms&&Modernizr.csstransitions){if(Modernizr.csstransforms3d){b="translate3d("+a.x+"px, "+a.y+"px, 0px) scale3d("+a.scale+", "+a.scale+", "+a.scale+")"}else{b="translate("+a.x+"px, "+a.y+"px) scale("+a.scale+", "+a.scale+")"}c.setPrefixedCss(a.$this,"transform",b)}else{a.$this.animate({left:a.left,top:a.top,opacity:a.opacity,height:a.height,width:a.width},800)}},next:function(){var d=this.data(b),e=this.find(".filtered.stage-center"),f=parseInt(e.first().attr("data-page")),g=f+1,h=this.find(".filtered[data-page="+g+"]");if(h.length===0){return}e.addClass("stage-left").removeClass("stage-center");h.addClass("stage-center").removeClass("stage-right");e.each(function(){var b=a(this),d=parseInt(b.attr("data-x")),e=parseInt(b.attr("data-y")),f=b.height(),g=b.width(),h=b.parent().width();c.transition({$this:a(this),x:d-h,y:e,left:d-h+"px",top:e+"px",scale:1,opacity:1,height:f+"px",width:g+"px"})});h.each(function(b){var e=a(this),f=b%d.itemsPerRow*(d.itemWidth+d.margins),g=parseInt(e.attr("data-y")),h=e.height(),i=e.width();c.transition({$this:a(this),x:f,y:g,left:f+"px",top:g+"px",scale:1,opacity:1,height:h+"px",width:i+"px"})});c.navigated.call(this,g)},prev:function(){var d=this.data(b),e=this.find(".filtered.stage-center"),f=parseInt(e.first().attr("data-page")),g=f-1,h=this.find(".filtered[data-page="+g+"]");if(h.length===0){return}e.addClass("stage-right").removeClass("stage-center");h.addClass("stage-center").removeClass("stage-left");e.each(function(){var b=a(this),d=parseInt(b.attr("data-x")),e=parseInt(b.attr("data-y")),f=b.height(),g=b.width(),h=b.parent().width();c.transition({$this:a(this),x:d+h,y:e,left:d+h+"px",top:e+"px",scale:1,opacity:1,height:f+"px",width:g+"px"})});h.each(function(b){var e=a(this),f=b%d.itemsPerRow*(d.itemWidth+d.margins),g=parseInt(e.attr("data-y")),h=e.height(),i=e.width();c.transition({$this:a(this),x:f,y:g,left:f+"px",top:g+"px",scale:1,opacity:1,height:h+"px",width:i+"px"})});c.navigated.call(this,g)},navigated:function(c){var d=this.data(b),e=this.find(".filtered[data-page="+(c-1)+"]").length>0,f=this.find(".filtered[data-page="+(c+1)+"]").length>0;if(e){a(d.prevClass).addClass("can-nav")}else{a(d.prevClass).removeClass("can-nav")}if(f){a(d.nextClass).addClass("can-nav")}else{a(d.nextClass).removeClass("can-nav")}a(d.controls+" span").each(function(b){if(c!=b)a(this).removeClass("active");else a(this).addClass("active")})},createControls:function(c){var d=a(this),e=d.data(b),f=a(e.controls),g=Math.ceil(c/(e.itemsPerRow*e.numRows)),h,i,j="",k=0;for(;k<g;k++){j+='<span data-index="'+k+'">'+(k+1)+"</span>"}f.html(j);h=f.children().first();i=(h.width()+parseInt(h.css("marginRight")))*g-parseInt(h.css("marginRight"));f.css("width",i)}};a.fn.paginate=function(b){if(c[b]){return c[b].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof b==="object"||!b){return c.init.apply(this,arguments)}else{a.error("Method "+b+" does not exist on jQuery.paginate");return false}}})(jQuery)